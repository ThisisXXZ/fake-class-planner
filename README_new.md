# 选课网站

基于 Flask 的选课管理系统，支持课程浏览、搜索、选课和日程管理。

## 功能特性

### 📚 课程浏览页面
- **学期切换**: 支持第一学期、第二学期、暑期学期切换
- **课程搜索**: 支持按课程代码和课程名称搜索
- **院系筛选**: 可按院系筛选课程（每个学期独立）
- **Subclass 标记**: 每个 entry 作为独立 subclass，按 A, B, C... 标记
- **课程详情**: 查看课程的所有 subclass 和时间安排
- **添加到日程**: 选择 subclass 后可添加到对应学期日程

### 📅 日程表页面  
- **学期切换**: 可查看不同学期的日程安排
- **精确时间显示**: 30分钟时间粒度，支持如14:00-15:50的精确显示
- **真正跨越布局**: 课程真正占据所有应该占据的时间格
  - 开始时间格显示完整课程信息
  - 中间时间格显示延续标记（⋮）
  - 所有时间格使用相同颜色和交互
- **冲突红色标记**: 只有真正时间冲突的课程才显示红色+脉冲动画
- **交互式管理**: 点击任何时间格的课程块都可查看详情、移除课程

## 快速开始

1. **启动应用**
```bash
uv run python run.py
```

2. **访问网站**
- 课程浏览: http://localhost:5000/courses
- 我的日程: http://localhost:5000/schedule

## 数据结构说明

系统处理 xlsx 文件中的课程数据：
- **COURSE CODE**: 课程代码（相同代码可能有多个条目）
- **CLASS SECTION**: 班级编号，格式解析：
  - `1X` = 第一学期 (Sem1)
  - `2X` = 第二学期 (Sem2) 
  - `SX` = 暑期学期 (Summer)
- **Entry = Subclass**: 每个数据行代表一个独立的 subclass
- **时间信息**: MON-SUN 列 + START TIME + END TIME
- **场地**: VENUE 列
- **其他**: 课程名称、院系、授课教师等

## 技术栈

- **后端**: Flask (Python)
- **前端**: Bootstrap 5, jQuery
- **数据处理**: Pandas, openpyxl
- **包管理**: uv

## 特色功能

### Subclass 自动标记
- 每个 Excel entry 作为独立的 subclass
- 按 A, B, C... 字母顺序自动标记
- 便于用户区分和选择不同时间段和地点

### 学期智能分组
- 自动解析 CLASS SECTION 确定学期
- 支持三个学期：第一学期、第二学期、暑期学期
- 每个学期的课程和日程独立管理

### 智能冲突检测
- 实时检测时间冲突
- 防止选择冲突课程
- 在日程表页面显示冲突警告

### 使用说明

1. **选择学期**: 首先在页面顶部选择要查看的学期
2. **浏览课程**: 在课程浏览页面搜索和筛选感兴趣的课程
3. **查看详情**: 点击"查看详情"查看课程的所有 subclass
4. **选择 Subclass**: 选择合适的 subclass（A, B, C 等标记）
5. **添加到日程**: 点击"添加到日程"将课程加入当前学期日程表
6. **查看日程**: 在日程表页面查看课程块直接显示在时间网格中
7. **管理课程**: 点击课程块查看详情或移除课程
8. **冲突检测**: 红色课程块表示时间冲突，需要重新选择
9. **学期切换**: 随时切换不同学期查看对应的课程和日程